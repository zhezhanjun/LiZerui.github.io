{"version":3,"file":"static/js/520.935f5c85.js","mappings":"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","sources":["webpack://demo03/./src/views/HomeView/VideoInsideView.vue","webpack://demo03/src/views/HomeView/VideoInsideView.vue","webpack://demo03/./src/views/HomeView/VideoInsideView.vue?18ab","webpack://demo03/./src/views/HomeView/VideoInsideView.vue?6bfc"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.contentData.length > 0)?_c('div',{ref:\"videoInsideView\",staticClass:\"video-inside-view\"},[_c('div',{ref:\"contentWrap\",staticClass:\"content-wrap\"},_vm._l((_vm.contentData),function(item,index){return _c('div',{key:item.id,ref:\"contentBox\",refInFor:true,staticClass:\"content-box\"},[_c('div',[_c('div',{staticClass:\"bg\",on:{\"touchstart\":function($event){if($event.target !== $event.currentTarget)return null;return _vm.showMenu(item,index, $event)},\"touchend\":function($event){return _vm.videoChangeEnd(index, $event)}}},[_vm._v(\" > \"),(item.isShowMenu)?_c('div',{staticClass:\"bg-bottom\"}):_vm._e()]),_c('div',{staticClass:\"top-nav\"},[_c('div',{staticClass:\"goback-icon\",on:{\"click\":_vm.goBack}},[_c('van-icon',{attrs:{\"name\":\"arrow-left\"}})],1),_c('div',{staticClass:\"user-msg\"},[_c('div',{staticClass:\"imgbox\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":item.user.thumb,\"alt\":\"\"}})]),_c('div',{staticClass:\"textbox\"},[_c('div',{staticClass:\"top\"},[_vm._v(_vm._s(item.user.login))]),_c('div',{staticClass:\"bottom\"},[_vm._v(\" \"+_vm._s(item.loop > 10000 ? `${Math.floor(item.loop / 10000)}+万` : item.loop)+\" 次播放 \")])])]),_c('div',{staticClass:\"follow-icon\",on:{\"click\":function($event){return _vm.toFollow(item)}}},[_vm._v(\" \"+_vm._s(item.isFollow == true ? \"已关注\" : \"关注\")+\" \")])]),(item.format == 'video')?_c('div',{staticClass:\"video-box\"},[_c('video',{ref:\"video\",refInFor:true,attrs:{\"muted\":\"\",\"src\":item.high_url,\"autoplay\":\"\"},domProps:{\"muted\":true},on:{\"canplay\":function($event){return _vm.videoPlayHandel(item, index)},\"timeupdate\":function($event){return _vm.videoPlayingHandel(item, index)}}})]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.isShowMenu),expression:\"item.isShowMenu\"}],staticClass:\"bottom-menu\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.content))]),_c('div',{staticClass:\"bottom-icon\"},[_c('div',{staticClass:\"bottom-icon-left\"},[_c('div',{staticClass:\"icon like\",class:{ likeActive: item.isLike },on:{\"click\":function($event){return _vm.toLike(item)}}},[_c('div',{staticClass:\"like-count\"},[_vm._v(_vm._s(item.votes.up))])]),_c('div',{staticClass:\"icon dislike\",class:{ dislikeActive: item.isDislike },on:{\"click\":function($event){return _vm.toDislike(item)}}})]),_c('div',{staticClass:\"bottom-icon-right\"},[_c('div',{staticClass:\"icon comment\",on:{\"click\":function($event){return _vm.goToComment(item)}}},[_c('div',{staticClass:\"comment-count\"},[_vm._v(\" \"+_vm._s(item.comments_count > 0 ? item.comments_count : \"评论\")+\" \")])]),_c('div',{staticClass:\"icon share\",on:{\"click\":function($event){(_vm.showShare = true), _vm.shareHandel(item)}}},[_c('div',{staticClass:\"share-count\"},[_vm._v(\" \"+_vm._s(item.share_count > 0 ? item.share_count : \"分享\")+\" \")])])])]),_c('div',{staticClass:\"play-control\"},[_c('div',{staticClass:\"play-btn\",on:{\"click\":function($event){return _vm.playAndPause(item, index)}}},[_c('van-icon',{attrs:{\"name\":item.isPlay == true ? 'pause' : 'play'}})],1),_c('div',{staticClass:\"current-time\"},[_vm._v(_vm._s(item.currentTime))]),_c('div',{ref:\"progress\",refInFor:true,staticClass:\"progress\"},[_c('div',{staticClass:\"layer\",on:{\"click\":function($event){$event.stopPropagation();return _vm.changeTime(item, index, $event)},\"touchmove\":function($event){return _vm.dragToChangeTimeData(item, index, $event)},\"touchend\":function($event){return _vm.dragToChangeTime(item, index, $event)}}}),_c('div',{staticClass:\"progress-btn\",style:({ left: item.left - 4 + '%' })}),_c('div',{staticClass:\"progress-bar\",style:({ width: item.left + '%' })})]),_c('div',{staticClass:\"total-time\"},[_vm._v(_vm._s(item.totalTime))])])]),_c('van-share-sheet',{attrs:{\"title\":\"立即分享给好友\",\"options\":_vm.options},on:{\"select\":_vm.onSelect},model:{value:(_vm.showShare),callback:function ($$v) {_vm.showShare=$$v},expression:\"showShare\"}})],1)])}),0)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"video-inside-view\"\r\n    ref=\"videoInsideView\"\r\n    v-if=\"contentData.length > 0\"\r\n  >\r\n    <div class=\"content-wrap\" ref=\"contentWrap\">\r\n      <div\r\n        class=\"content-box\"\r\n        ref=\"contentBox\"\r\n        v-for=\"(item, index) in contentData\"\r\n        :key=\"item.id\"\r\n      >\r\n        <div>\r\n          <div\r\n            class=\"bg\"\r\n            @touchstart.self=\"showMenu(item,index, $event)\"\r\n            @touchend=\"videoChangeEnd(index, $event)\"\r\n          >\r\n            >\r\n            <div class=\"bg-bottom\" v-if=\"item.isShowMenu\"></div>\r\n          </div>\r\n          <div class=\"top-nav\">\r\n            <div class=\"goback-icon\" @click=\"goBack\">\r\n              <van-icon name=\"arrow-left\" />\r\n            </div>\r\n            <div class=\"user-msg\">\r\n              <div class=\"imgbox\">\r\n                <img class=\"auto-img\" :src=\"item.user.thumb\" alt=\"\" />\r\n              </div>\r\n              <div class=\"textbox\">\r\n                <div class=\"top\">{{ item.user.login }}</div>\r\n                <div class=\"bottom\">\r\n                  {{\r\n                    item.loop > 10000\r\n                      ? `${Math.floor(item.loop / 10000)}+万`\r\n                      : item.loop\r\n                  }}\r\n                  次播放\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"follow-icon\" @click=\"toFollow(item)\">\r\n              {{ item.isFollow == true ? \"已关注\" : \"关注\" }}\r\n            </div>\r\n          </div>\r\n          <div class=\"video-box\" v-if=\"item.format == 'video'\">\r\n            <video\r\n              ref=\"video\"\r\n              muted\r\n              :src=\"item.high_url\"\r\n              autoplay\r\n              @canplay=\"videoPlayHandel(item, index)\"\r\n              @timeupdate=\"videoPlayingHandel(item, index)\"\r\n            ></video>\r\n          </div>\r\n          <div class=\"bottom-menu\" v-show=\"item.isShowMenu\">\r\n            <div class=\"title\">{{ item.content }}</div>\r\n            <div class=\"bottom-icon\">\r\n              <div class=\"bottom-icon-left\">\r\n                <div\r\n                  class=\"icon like\"\r\n                  :class=\"{ likeActive: item.isLike }\"\r\n                  @click=\"toLike(item)\"\r\n                >\r\n                  <div class=\"like-count\">{{ item.votes.up }}</div>\r\n                </div>\r\n                <div\r\n                  class=\"icon dislike\"\r\n                  :class=\"{ dislikeActive: item.isDislike }\"\r\n                  @click=\"toDislike(item)\"\r\n                ></div>\r\n              </div>\r\n              <div class=\"bottom-icon-right\">\r\n                <div class=\"icon comment\" @click=\"goToComment(item)\">\r\n                  <div class=\"comment-count\">\r\n                    {{ item.comments_count > 0 ? item.comments_count : \"评论\" }}\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  class=\"icon share\"\r\n                  @click=\"(showShare = true), shareHandel(item)\"\r\n                >\r\n                  <div class=\"share-count\">\r\n                    {{ item.share_count > 0 ? item.share_count : \"分享\" }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"play-control\">\r\n              <div class=\"play-btn\" @click=\"playAndPause(item, index)\">\r\n                <van-icon :name=\"item.isPlay == true ? 'pause' : 'play'\" />\r\n              </div>\r\n              <div class=\"current-time\">{{ item.currentTime }}</div>\r\n              <div class=\"progress\" ref=\"progress\">\r\n                <div\r\n                  class=\"layer\"\r\n                  @click.stop=\"changeTime(item, index, $event)\"\r\n                  @touchmove=\"dragToChangeTimeData(item, index, $event)\"\r\n                  @touchend=\"dragToChangeTime(item, index, $event)\"\r\n                ></div>\r\n                <div\r\n                  class=\"progress-btn\"\r\n                  :style=\"{ left: item.left - 4 + '%' }\"\r\n                ></div>\r\n                <div\r\n                  class=\"progress-bar\"\r\n                  :style=\"{ width: item.left + '%' }\"\r\n                ></div>\r\n              </div>\r\n              <div class=\"total-time\">{{ item.totalTime }}</div>\r\n            </div>\r\n          </div>\r\n          <van-share-sheet\r\n            v-model:show=\"showShare\"\r\n            title=\"立即分享给好友\"\r\n            :options=\"options\"\r\n            @select=\"onSelect\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from \"vue\";\r\nimport { Toast } from \"vant\";\r\nexport default {\r\n  setup() {\r\n    const showShare = ref(false);\r\n    const options = [\r\n      { name: \"微信\", icon: \"wechat\" },\r\n      { name: \"微博\", icon: \"weibo\" },\r\n      { name: \"复制链接\", icon: \"link\" },\r\n      { name: \"分享海报\", icon: \"poster\" },\r\n      { name: \"二维码\", icon: \"qrcode\" },\r\n    ];\r\n\r\n    const onSelect = (option) => {\r\n      Toast(option.name);\r\n      showShare.value = false;\r\n    };\r\n\r\n    return {\r\n      options,\r\n      onSelect,\r\n      showShare,\r\n    };\r\n  },\r\n  name: \"VideoInside\",\r\n  data() {\r\n    return {\r\n      contentData: [],\r\n      videoChangeY: 0,\r\n      videoChangeTotalHeight: 0,\r\n      loading: true,\r\n      activeIndex: 0,\r\n      timer: null,\r\n    };\r\n  },\r\n  watch: {},\r\n  created() {\r\n    // this.contentData = JSON.parse(\r\n    //   window.localStorage.getItem(\"VideoContentData\")\r\n    // );\r\n  },\r\n  activated() {\r\n    this.contentData = JSON.parse(\r\n      window.localStorage.getItem(\"VideoContentData\")\r\n    );\r\n    this.$forceUpdate();\r\n    this.activeIndex = this.$route.params.index;\r\n    this.timer = setTimeout(() => {\r\n      this.videoChangeTotalHeight =\r\n        this.$refs.contentBox[0].clientHeight * this.activeIndex;\r\n      this.$refs.contentWrap.style.transition = \"none\";\r\n      this.$refs.contentWrap.style.transform = `translateY(-${this.videoChangeTotalHeight}px)`;\r\n      this.$refs.video[this.activeIndex].play();\r\n      this.videoPlayHandel(\r\n        this.contentData[this.activeIndex],\r\n        this.activeIndex\r\n      );\r\n      this.timer = null;\r\n      //定时器延迟拿取数据\r\n      this.timer = setTimeout(() => {\r\n        this.getFollowedData();\r\n        this.timer = null;\r\n      }, 100);\r\n    }, 100);\r\n  },\r\n  methods: {\r\n    //关注\r\n    toFollow(item) {\r\n      let token = window.localStorage.getItem(\"token\");\r\n      if (!token) {\r\n        this.$router.push({ name: \"beforeLogin\" });\r\n      } else {\r\n        item.isFollow = !item.isFollow;\r\n        let followedData = JSON.parse(\r\n          window.localStorage.getItem(\"followedData\")\r\n        );\r\n        let idArr = [];\r\n        followedData.forEach((item) => {\r\n          idArr.push(item.id);\r\n        });\r\n        if (item.isFollow && idArr.indexOf(item.user.id) == -1) {\r\n          followedData.push(item.user);\r\n          window.localStorage.setItem(\r\n            \"followedData\",\r\n            JSON.stringify(followedData)\r\n          );\r\n        } else {\r\n          // console.log(followedData.indexOf(item.user));\r\n          followedData.forEach((item2, index) => {\r\n            if (item2.id == item.user.id) {\r\n              followedData.splice(index, 1);\r\n              window.localStorage.setItem(\r\n                \"followedData\",\r\n                JSON.stringify(followedData)\r\n              );\r\n            }\r\n          });\r\n        }\r\n      }\r\n      window.localStorage.setItem(\r\n        \"VideoContentData\",\r\n        JSON.stringify(this.contentData)\r\n      );\r\n    },\r\n    //点赞\r\n    toLike(item) {\r\n      item.isLike = !item.isLike;\r\n      if (item.isLike) {\r\n        item.isDislike = false;\r\n        item.votes.up++;\r\n      } else {\r\n        item.votes.up--;\r\n      }\r\n      window.localStorage.setItem(\r\n        \"VideoContentData\",\r\n        JSON.stringify(this.contentData)\r\n      );\r\n    },\r\n    //踩\r\n    toDislike(item) {\r\n      item.isDislike = !item.isDislike;\r\n      if (item.isDislike && item.isLike) {\r\n        item.isLike = false;\r\n        item.votes.up--;\r\n      }\r\n      window.localStorage.setItem(\r\n        \"VideoContentData\",\r\n        JSON.stringify(this.contentData)\r\n      );\r\n    },\r\n    //分享\r\n    shareHandel(item) {\r\n      item.share_count++;\r\n      window.localStorage.setItem(\r\n        \"VideoContentData\",\r\n        JSON.stringify(this.contentData)\r\n      );\r\n    },\r\n    //返回上一级路由\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    //跳转评论详情页\r\n    goToComment(item) {\r\n      window.localStorage.setItem(\"commentContentData\", JSON.stringify(item));\r\n      let dataId = item.id;\r\n      if (dataId != 125654473 && dataId != 125657703) {\r\n        dataId = 125654473;\r\n      }\r\n      this.$router.push(`/comment?id=${dataId}`);\r\n    },\r\n    //初始化视频时间\r\n    videoPlayHandel(item, index) {\r\n      let totalMinutes = Math.floor(this.$refs.video[index].duration / 60);\r\n      totalMinutes = totalMinutes >= 10 ? totalMinutes : \"0\" + totalMinutes;\r\n      let totalSeconds = Math.floor(this.$refs.video[index].duration % 60);\r\n      totalSeconds = totalSeconds >= 10 ? totalSeconds : \"0\" + totalSeconds;\r\n      item.totalTime = `${totalMinutes}:${totalSeconds}`;\r\n      item.isPlay = true;\r\n      item.currentTime = `00:00`;\r\n      item[\"isShowMenu\"] = false;\r\n      this.$forceUpdate();\r\n    },\r\n    //视频播放时实时更新数据\r\n    videoPlayingHandel(item, index) {\r\n      let currentMinutes = Math.floor(this.$refs.video[index].currentTime / 60);\r\n      currentMinutes =\r\n        currentMinutes >= 10 ? currentMinutes : \"0\" + currentMinutes;\r\n      let currentSeconds = Math.floor(this.$refs.video[index].currentTime % 60);\r\n      currentSeconds =\r\n        currentSeconds >= 10 ? currentSeconds : \"0\" + currentSeconds;\r\n      item.currentTime = `${currentMinutes}:${currentSeconds}`;\r\n      item.left =\r\n        (this.$refs.video[index].currentTime /\r\n          this.$refs.video[index].duration) *\r\n        100;\r\n      if (item.currentTime == item.totalTime) {\r\n        item.isPlay = false;\r\n        this.$forceUpdate();\r\n      }\r\n      this.$forceUpdate();\r\n    },\r\n    //控制底部菜单的显示隐藏\r\n    showMenu(item,index, e) {\r\n      item.isShowMenu = !item.isShowMenu;\r\n      this.videoChangeY = e.changedTouches[0].pageY;\r\n      this.addHistoryData(index);\r\n      this.$forceUpdate();\r\n    },\r\n    //暂停与播放\r\n    playAndPause(item, index) {\r\n      item.isPlay = !item.isPlay;\r\n      this.$forceUpdate();\r\n      if (item.isPlay) {\r\n        this.$refs.video[index].play();\r\n      } else if (!item.isPlay) {\r\n        this.$refs.video[index].pause();\r\n      }\r\n    },\r\n    //点击切换进度\r\n    changeTime(item, index, e) {\r\n      this.$refs.video[index].currentTime =\r\n        (e.offsetX / this.$refs.progress[index].clientWidth) *\r\n        this.$refs.video[index].duration;\r\n      item.isPlay = true;\r\n      this.$refs.video[index].play();\r\n      this.$forceUpdate();\r\n    },\r\n    //拖动进度条切换进度(move事件)\r\n    dragToChangeTimeData(item, index, e) {\r\n      if (item.currentTime == item.totalTime) {\r\n        item.currentTime = item.totalTime;\r\n      }\r\n      item.isPlay = false;\r\n      this.$refs.video[index].pause();\r\n      //视频总时长\r\n      let eT = this.$refs.video[index].duration;\r\n      //坐标\r\n      let eX = e.changedTouches[0].pageX - 95;\r\n      //进度条宽度\r\n      let eW = this.$refs.progress[index].clientWidth;\r\n      //限制移动范围\r\n      eX = eX > eW ? eW : eX < 0 ? 0 : eX;\r\n      //进度条与按钮移动比率\r\n      let present = eX / eW;\r\n      //进度条与按钮移动百分比\r\n      let left = present * 100;\r\n      left = left < 0 ? 0 : left > 100 ? 100 : left;\r\n      item.left = left;\r\n      let currentMinutes = Math.floor(Math.floor(present * eT) / 60);\r\n      currentMinutes =\r\n        currentMinutes >= 10 ? currentMinutes : \"0\" + currentMinutes;\r\n      let currentSeconds = Math.floor(present * eT) % 60;\r\n      currentSeconds =\r\n        currentSeconds >= 10 ? currentSeconds : \"0\" + currentSeconds;\r\n      item.currentTime = `${currentMinutes}:${currentSeconds}`;\r\n      item.isPlay = true;\r\n      this.$forceUpdate();\r\n    },\r\n    //拖动进度条切换进度(end事件)\r\n    dragToChangeTime(item, index, e) {\r\n      let present =\r\n        (e.changedTouches[0].pageX - 95) /\r\n        this.$refs.progress[index].clientWidth;\r\n      this.$refs.video[index].currentTime =\r\n        present * this.$refs.video[index].duration;\r\n      item.isPlay = true;\r\n      this.$refs.video[index].play();\r\n      this.$forceUpdate();\r\n    },\r\n    //滑动切换视频(end)\r\n    videoChangeEnd(index, e) {\r\n      this.addHistoryData(index);\r\n      this.$refs.contentWrap.style.transition = \"all linear 0.5s\";\r\n      if (\r\n        e.changedTouches[0].pageY < this.videoChangeY &&\r\n        this.videoChangeY - e.changedTouches[0].pageY >= 50\r\n      ) {\r\n        if (this.contentData.length - 1 == index) {\r\n          this.$toast(\"没有更多了哦~\");\r\n          return;\r\n        }\r\n        this.videoChangeTotalHeight +=\r\n          this.$refs.contentBox[index].clientHeight;\r\n        this.$refs.contentWrap.style.transform = `translateY(-${this.videoChangeTotalHeight}px)`;\r\n        this.activeIndex++;\r\n        this.$refs.video[this.activeIndex].play();\r\n        this.videoPlayHandel(\r\n          this.contentData[this.activeIndex],\r\n          this.activeIndex\r\n        );\r\n      }\r\n      if (\r\n        e.changedTouches[0].pageY > this.videoChangeY &&\r\n        e.changedTouches[0].pageY - this.videoChangeY >= 50\r\n      ) {\r\n        if (index == 0) {\r\n          this.$toast(\"没有更多了哦~\");\r\n          return;\r\n        }\r\n        this.videoChangeTotalHeight -=\r\n          this.$refs.contentBox[index].clientHeight;\r\n        this.$refs.contentWrap.style.transform = `translateY(-${this.videoChangeTotalHeight}px)`;\r\n        this.activeIndex--;\r\n        this.$refs.video[this.activeIndex].play();\r\n        this.videoPlayHandel(\r\n          this.contentData[this.activeIndex],\r\n          this.activeIndex\r\n        );\r\n      }\r\n    },\r\n    //获取已关注\r\n    getFollowedData() {\r\n      let followedData = JSON.parse(\r\n        window.localStorage.getItem(\"followedData\")\r\n      );\r\n      let followedDataId = [];\r\n      followedData.forEach((item) => {\r\n        followedDataId.push(item.id);\r\n      });\r\n      this.contentData.forEach((item) => {\r\n        if (followedDataId.indexOf(item.user.id) != -1) {\r\n          item.isFollow = true;\r\n        } else {\r\n          item.isFollow = false;\r\n        }\r\n      });\r\n    },\r\n    //添加历史观看数据\r\n    addHistoryData(index) {\r\n      let historyData = JSON.parse(window.localStorage.getItem(\"historyData\"));\r\n      if (!historyData) {\r\n        let historyData = [];\r\n        historyData.unshift(this.contentData[index]);\r\n        window.localStorage.setItem(\"historyData\", JSON.stringify(historyData));\r\n      } else {\r\n        let idArr = [];\r\n        historyData.forEach((item) => {\r\n          if (idArr.indexOf(item.id) == -1) {\r\n            idArr.push(item.id);\r\n          }\r\n        });\r\n        if (idArr.indexOf(this.contentData[index].id) == -1) {\r\n          historyData.unshift(this.contentData[index]);\r\n          window.localStorage.setItem(\r\n            \"historyData\",\r\n            JSON.stringify(historyData)\r\n          );\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.video-inside-view {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n  color: #fff;\r\n  position: relative;\r\n  .content-wrap {\r\n    transition: all linear 0.5s;\r\n    .content-box {\r\n      width: 100vw;\r\n      height: 100vh;\r\n      position: relative;\r\n      top: 0px;\r\n      left: 0px;\r\n      z-index: 9999;\r\n      background-color: #fff;\r\n      .bg {\r\n        // height: 50px;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        background-color: rgba(0, 0, 0, 0.15);\r\n        z-index: 2;\r\n        .bg-bottom {\r\n          position: absolute;\r\n          bottom: 0;\r\n          left: 0;\r\n          right: 0;\r\n          height: 50px;\r\n          background-color: rgba(0, 0, 0, 0.35);\r\n        }\r\n      }\r\n      .top-nav {\r\n        width: 100%;\r\n        height: 50px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        position: absolute;\r\n        top: 10px;\r\n        left: 0;\r\n        padding: 10px;\r\n        box-sizing: border-box;\r\n        z-index: 10;\r\n        .goback-icon {\r\n          font-size: 25px;\r\n        }\r\n        .user-msg {\r\n          display: flex;\r\n          .imgbox {\r\n            width: 35px;\r\n            height: 35px;\r\n            border-radius: 999px;\r\n            overflow: hidden;\r\n          }\r\n          .textbox {\r\n            line-height: 17px;\r\n            margin-left: 10px;\r\n          }\r\n        }\r\n        .follow-icon {\r\n          width: 50px;\r\n          height: 22px;\r\n          flex: 0 0 50px;\r\n          border-radius: 999px;\r\n          text-align: center;\r\n          background-color: rgba(255, 255, 255, 0.715);\r\n          line-height: 22px;\r\n          font-weight: 600;\r\n          margin-left: -10px;\r\n          color: black;\r\n        }\r\n      }\r\n      .video-box {\r\n        width: 100vw;\r\n        height: 100vh;\r\n        position: absolute;\r\n        top: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n        video {\r\n          width: 100%;\r\n          height: 100%;\r\n          position: absolute;\r\n          top: 0;\r\n          bottom: 0;\r\n          left: 0;\r\n          right: 0;\r\n          margin: auto;\r\n          z-index: 1;\r\n        }\r\n      }\r\n      .title {\r\n        color: #fff;\r\n        position: absolute;\r\n        bottom: 60px;\r\n        left: 20px;\r\n        z-index: 8;\r\n        width: calc(100% - 20px);\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        font-size: 15px;\r\n      }\r\n      .bottom-icon {\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        margin: 10px auto 0;\r\n        padding: 10px 0 10px 10px;\r\n        box-sizing: border-box;\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n        z-index: 10;\r\n        .bottom-icon-left {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          .icon {\r\n            width: 35px;\r\n            height: 35px;\r\n            border-radius: 999px;\r\n            background-repeat: no-repeat;\r\n            background-position: center center;\r\n            background-size: cover;\r\n            position: relative;\r\n            &.like {\r\n              margin-right: 30px;\r\n              background-image: url(@/assets/images/home/yH1.png);\r\n              &.likeActive {\r\n                background-image: url(@/assets/images/home/utK.png);\r\n              }\r\n              .like-count {\r\n                position: absolute;\r\n                font-size: 12px;\r\n                left: 35px;\r\n                top: 12px;\r\n                font-weight: 600;\r\n              }\r\n            }\r\n            &.dislike {\r\n              background-image: url(@/assets/images/home/xKl.png);\r\n              &.dislikeActive {\r\n                background-image: url(@/assets/images/home/Dfk.png);\r\n              }\r\n            }\r\n          }\r\n        }\r\n        .bottom-icon-right {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          flex: 0 0 120px;\r\n          .icon {\r\n            width: 35px;\r\n            height: 35px;\r\n            border-radius: 999px;\r\n            background-repeat: no-repeat;\r\n            background-position: center center;\r\n            background-size: cover;\r\n            position: relative;\r\n            &.comment {\r\n              margin-right: 30px;\r\n              background-image: url(@/assets/images/home/u0q2.png);\r\n              .comment-count {\r\n                position: absolute;\r\n                font-size: 12px;\r\n                left: 35px;\r\n                top: 12px;\r\n                font-weight: 600;\r\n                height: 12px;\r\n                flex: 0 0 26px;\r\n                width: 26px;\r\n              }\r\n            }\r\n            &.share {\r\n              margin-right: 30px;\r\n              background-image: url(@/assets/images/home/Zyn.png);\r\n              .share-count {\r\n                position: absolute;\r\n                height: 12px;\r\n                flex: 0 0 26px;\r\n                width: 26px;\r\n                font-size: 12px;\r\n                left: 35px;\r\n                top: 12px;\r\n                font-weight: 600;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .play-control {\r\n        position: absolute;\r\n        bottom: 80px;\r\n        left: 10px;\r\n        z-index: 8;\r\n        display: flex;\r\n        align-items: center;\r\n        color: #fff;\r\n        .play-btn {\r\n          width: 25px;\r\n          height: 25px;\r\n          border-radius: 999px;\r\n          margin-right: 10px;\r\n          font-size: 25px;\r\n          z-index: 25;\r\n        }\r\n        .progress {\r\n          width: 220px;\r\n          height: 8px;\r\n          background-color: rgb(238, 238, 238);\r\n          border-radius: 8px;\r\n          margin: 0 10px;\r\n          position: relative;\r\n          .layer {\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n            background-color: red;\r\n            opacity: 0;\r\n            z-index: 20;\r\n          }\r\n          .progress-btn {\r\n            width: 12px;\r\n            height: 150%;\r\n            border-radius: 999px;\r\n            background-color: rgb(250, 224, 16);\r\n            position: absolute;\r\n            left: calc(10% - 6px);\r\n            top: -25%;\r\n          }\r\n          .progress-bar {\r\n            width: 10%;\r\n            height: 100%;\r\n            background-color: rgb(250, 224, 16);\r\n            position: absolute;\r\n            border-radius: 8px;\r\n          }\r\n        }\r\n      }\r\n      ::v-deep .van-popup {\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 0;\r\n      }\r\n      ::v-deep .van-overlay {\r\n        background-color: rgba(0, 0, 0, 0);\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VideoInsideView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VideoInsideView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoInsideView.vue?vue&type=template&id=6cf47797&scoped=true&\"\nimport script from \"./VideoInsideView.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoInsideView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoInsideView.vue?vue&type=style&index=0&id=6cf47797&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6cf47797\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","contentData","length","ref","staticClass","_l","item","index","key","id","refInFor","on","$event","target","currentTarget","showMenu","videoChangeEnd","_v","isShowMenu","_e","goBack","attrs","user","thumb","_s","login","loop","Math","floor","toFollow","isFollow","format","high_url","domProps","videoPlayHandel","videoPlayingHandel","directives","name","rawName","value","expression","content","class","likeActive","isLike","toLike","votes","up","dislikeActive","isDislike","toDislike","goToComment","comments_count","showShare","shareHandel","share_count","playAndPause","isPlay","currentTime","stopPropagation","changeTime","dragToChangeTimeData","dragToChangeTime","style","left","width","totalTime","options","onSelect","model","callback","$$v","staticRenderFns","setup","icon","data","videoChangeY","videoChangeTotalHeight","loading","activeIndex","timer","watch","created","activated","window","methods","followedData","idArr","JSON","dataId","totalMinutes","totalSeconds","currentMinutes","currentSeconds","e","eX","present","getFollowedData","followedDataId","addHistoryData","historyData","component"],"sourceRoot":""}