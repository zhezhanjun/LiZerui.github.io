"use strict";(self["webpackChunkdemo03"]=self["webpackChunkdemo03"]||[]).push([[630],{3630:function(t,a,e){e.r(a),e.d(a,{default:function(){return d}});var o=function(){var t=this,a=t._self._c;return a("div",{ref:"dynamic",staticClass:"dynamic-view",on:{scroll:t.dynamicScroll}},[a("div",{staticClass:"top-search-box"},[t._m(0),a("div",{staticClass:"center-box"},[a("van-tabs",{attrs:{color:"rgb(249, 217, 50)","line-width":"32px","title-active-color":"#000"},on:{click:t.changeRouter},model:{value:t.active,callback:function(a){t.active=a},expression:"active"}},t._l(t.tabbarData,(function(t,e){return a("van-tab",{key:e,attrs:{title:t.title}})})),1)],1),a("div",{staticClass:"right-box"})]),t.goToTopIconState?a("div",{staticClass:"go-back-to-top",on:{click:t.goToTop}},[a("van-icon",{attrs:{name:"arrow-up"}}),a("br"),t._v("返回"),a("br"),t._v("顶部 ")],1):t._e(),a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(a){t.isLoading=a},expression:"isLoading"}},[a("keep-alive",[a("router-view",{attrs:{scrollTop:t.scrollTop}})],1)],1)],1)},i=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"left-box"},[a("div",{staticClass:"text-sign"},[t._v("签到")])])}],s=(e(7658),e(9039)),n={name:"DynamicView",data(){return{active:0,tabbarData:[{title:"隔壁",name:"NearbyContentView"},{title:"关注",name:"DynamicFollowContentView"}],goToTopIconState:!1,scrollTop:0,isLoading:!1}},created(){this.active=Number(window.localStorage.getItem("dynamicActiveIndex"))},activated(){this.tabbarData.forEach(((t,a)=>{a==this.active&&this.$router.push({name:t.name})}))},methods:{goToTop(){this.$refs.dynamic.scrollTo(0,0)},dynamicScroll:(0,s.P)((function(){this.scrollTop=this.$refs.dynamic.scrollTop,this.scrollTop>=150?this.goToTopIconState=!0:this.goToTopIconState=!1}),500),changeRouter(){window.localStorage.setItem("dynamicActiveIndex",this.active),this.tabbarData.forEach(((t,a)=>{a==this.active&&this.$router.push({name:t.name})}))},onRefresh(){setTimeout((()=>{this.$toast("刷新成功"),this.isLoading=!1}),1e3)}}},c=n,r=e(1001),l=(0,r.Z)(c,o,i,!1,null,"41984140",null),d=l.exports}}]);