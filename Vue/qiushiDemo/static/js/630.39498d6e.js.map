{"version":3,"file":"static/js/630.39498d6e.js","mappings":"wJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,IAAI,UAAUC,YAAY,eAAeC,GAAG,CAAC,OAASN,EAAIO,gBAAgB,CAACL,EAAG,MAAM,CAACG,YAAY,kBAAkB,CAACL,EAAIQ,GAAG,GAAGN,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,WAAW,CAACO,MAAM,CAAC,MAAQ,oBAAoB,aAAa,OAAO,qBAAqB,QAAQH,GAAG,CAAC,MAAQN,EAAIU,cAAcC,MAAM,CAACC,MAAOZ,EAAIa,OAAQC,SAAS,SAAUC,GAAMf,EAAIa,OAAOE,CAAG,EAAEC,WAAW,WAAWhB,EAAIiB,GAAIjB,EAAIkB,YAAY,SAASC,EAAKC,GAAO,OAAOlB,EAAG,UAAU,CAACmB,IAAID,EAAMX,MAAM,CAAC,MAAQU,EAAKG,QAAQ,IAAG,IAAI,GAAGpB,EAAG,MAAM,CAACG,YAAY,gBAAiBL,EAAIuB,iBAAkBrB,EAAG,MAAM,CAACG,YAAY,iBAAiBC,GAAG,CAAC,MAAQN,EAAIwB,UAAU,CAACtB,EAAG,WAAW,CAACO,MAAM,CAAC,KAAO,cAAcP,EAAG,MAAMF,EAAIyB,GAAG,MAAMvB,EAAG,MAAMF,EAAIyB,GAAG,QAAQ,GAAGzB,EAAI0B,KAAKxB,EAAG,mBAAmB,CAACI,GAAG,CAAC,QAAUN,EAAI2B,WAAWhB,MAAM,CAACC,MAAOZ,EAAI4B,UAAWd,SAAS,SAAUC,GAAMf,EAAI4B,UAAUb,CAAG,EAAEC,WAAW,cAAc,CAACd,EAAG,aAAa,CAACA,EAAG,cAAc,CAACO,MAAM,CAAC,UAAYT,EAAI6B,cAAc,IAAI,IAAI,EACvgC,EACIC,EAAkB,CAAC,WAAY,IAAI9B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,MAAM,CAACG,YAAY,aAAa,CAACL,EAAIyB,GAAG,SACrJ,G,oBCmCA,GACAM,KAAAA,cACAC,OACA,OAEAnB,OAAAA,EAEAK,WAAAA,CACA,CACAI,MAAAA,KACAS,KAAAA,qBAEA,CACAT,MAAAA,KACAS,KAAAA,6BAIAR,kBAAAA,EAEAM,UAAAA,EACAD,WAAAA,EAEA,EACAK,UAEA,qEACA,EACAC,YACA,iCACA,gBACA,mBAAAH,KAAAA,EAAAA,MACA,GAEA,EACAI,QAAAA,CAEAX,UACA,gCACA,EAEAjB,eAAAA,EAAAA,EAAAA,IAAAA,WACA,4CACA,oBACA,yBAEA,wBAEA,QAEAG,eACA0B,OAAAA,aAAAA,QAAAA,qBAAAA,KAAAA,QACA,iCACA,gBACA,mBAAAL,KAAAA,EAAAA,MACA,GAEA,EAEAJ,YACAU,YAAAA,KACA,oBACA,oBACA,IACA,ICtGoQ,I,UCQhQC,GAAY,OACd,EACAvC,EACA+B,GACA,EACA,KACA,WACA,MAIF,EAAeQ,EAAiB,O","sources":["webpack://demo03/./src/views/DynamicView/DynamicView.vue","webpack://demo03/src/views/DynamicView/DynamicView.vue","webpack://demo03/./src/views/DynamicView/DynamicView.vue?8f66","webpack://demo03/./src/views/DynamicView/DynamicView.vue?af47"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"dynamic\",staticClass:\"dynamic-view\",on:{\"scroll\":_vm.dynamicScroll}},[_c('div',{staticClass:\"top-search-box\"},[_vm._m(0),_c('div',{staticClass:\"center-box\"},[_c('van-tabs',{attrs:{\"color\":\"rgb(249, 217, 50)\",\"line-width\":\"32px\",\"title-active-color\":\"#000\"},on:{\"click\":_vm.changeRouter},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.tabbarData),function(item,index){return _c('van-tab',{key:index,attrs:{\"title\":item.title}})}),1)],1),_c('div',{staticClass:\"right-box\"})]),(_vm.goToTopIconState)?_c('div',{staticClass:\"go-back-to-top\",on:{\"click\":_vm.goToTop}},[_c('van-icon',{attrs:{\"name\":\"arrow-up\"}}),_c('br'),_vm._v(\"返回\"),_c('br'),_vm._v(\"顶部 \")],1):_vm._e(),_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('keep-alive',[_c('router-view',{attrs:{\"scrollTop\":_vm.scrollTop}})],1)],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"left-box\"},[_c('div',{staticClass:\"text-sign\"},[_vm._v(\"签到\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"dynamic-view\" ref=\"dynamic\" @scroll=\"dynamicScroll\">\r\n    <div class=\"top-search-box\">\r\n      <div class=\"left-box\">\r\n        <div class=\"text-sign\">签到</div>\r\n      </div>\r\n      <div class=\"center-box\">\r\n        <van-tabs\r\n          v-model=\"active\"\r\n          color=\"rgb(249, 217, 50)\"\r\n          line-width=\"32px\"\r\n          title-active-color=\"#000\"\r\n          @click=\"changeRouter\"\r\n        >\r\n          <van-tab\r\n            :title=\"item.title\"\r\n            v-for=\"(item, index) in tabbarData\"\r\n            :key=\"index\"\r\n          >\r\n          </van-tab>\r\n        </van-tabs>\r\n      </div>\r\n      <div class=\"right-box\"></div>\r\n    </div>\r\n    <div class=\"go-back-to-top\" @click=\"goToTop\" v-if=\"goToTopIconState\">\r\n      <van-icon name=\"arrow-up\" /><br />返回<br />顶部\r\n    </div>\r\n    <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\r\n    <keep-alive>\r\n      <router-view :scrollTop=\"scrollTop\"></router-view>\r\n    </keep-alive>\r\n    </van-pull-refresh>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { throttle } from \"@/utils/throttle\";\r\n\r\nexport default {\r\n  name: \"DynamicView\",\r\n  data() {\r\n    return {\r\n      //顶部导航栏激活下标\r\n      active: 0,\r\n      //顶部导航栏数据\r\n      tabbarData: [\r\n        {\r\n          title: \"隔壁\",\r\n          name: \"NearbyContentView\",\r\n        },\r\n        {\r\n          title: \"关注\",\r\n          name: \"DynamicFollowContentView\",\r\n        },\r\n      ],\r\n      //返回顶部的按钮显示状态\r\n      goToTopIconState: false,\r\n      //dynamic的滚动距离\r\n      scrollTop: 0,\r\n      isLoading: false,\r\n    };\r\n  },\r\n  created() {\r\n    //刷新时根据路由激活下标\r\n    this.active = Number(window.localStorage.getItem(\"dynamicActiveIndex\"));\r\n  },\r\n  activated() {\r\n    this.tabbarData.forEach((item, index) => {\r\n      if (index == this.active) {\r\n        this.$router.push({ name: item.name });\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    //返回顶部方法\r\n    goToTop() {\r\n      this.$refs.dynamic.scrollTo(0, 0);\r\n    },\r\n    //dynamic的滚动方法\r\n    dynamicScroll: throttle(function () {\r\n      this.scrollTop = this.$refs.dynamic.scrollTop;\r\n      if (this.scrollTop >= 150) {\r\n        this.goToTopIconState = true;\r\n      } else {\r\n        this.goToTopIconState = false;\r\n      }\r\n    }, 500),\r\n    //二级路由切换\r\n    changeRouter() {\r\n      window.localStorage.setItem(\"dynamicActiveIndex\", this.active);\r\n      this.tabbarData.forEach((item, index) => {\r\n        if (index == this.active) {\r\n          this.$router.push({ name: item.name });\r\n        }\r\n      });\r\n    },\r\n    //上拉刷新\r\n    onRefresh() {\r\n      setTimeout(() => {\r\n        this.$toast(\"刷新成功\");\r\n        this.isLoading = false;\r\n      }, 1000);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.van-tabs {\r\n  margin: -3px 0 0 25px !important;\r\n}\r\n.dynamic-view {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  overflow: auto;\r\n  .top-search-box {\r\n    width: 100vw;\r\n    height: 55px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    position: fixed;\r\n    left: 0px;\r\n    top: 0px;\r\n    z-index: 50;\r\n    padding-left: 10px;\r\n    padding-top: 10px;\r\n    background-color: #fff;\r\n    box-sizing: border-box;\r\n    border-bottom: 1px solid #ddd;\r\n    padding-bottom: 5px;\r\n    .left-box {\r\n      width: 60px;\r\n      height: 30px;\r\n      border-radius: 999px;\r\n      background-image: url(../../assets/images/home/mfz.png);\r\n      background-repeat: no-repeat;\r\n      background-position: center center;\r\n      background-size: cover;\r\n      position: relative;\r\n      .text-sign {\r\n        position: absolute;\r\n        right: 7px;\r\n        font-weight: 600;\r\n        top: 10px;\r\n        font-size: 14px;\r\n      }\r\n    }\r\n    .center-box {\r\n      width: 160px;\r\n      height: 35px;\r\n      border-radius: 5px;\r\n      display: flex;\r\n      position: relative;\r\n      font-size: 14px;\r\n    }\r\n    .right-box {\r\n      width: 65px;\r\n      height: 30px;\r\n      background-color: red;\r\n      border-radius: 999px;\r\n      overflow: hidden;\r\n      background-image: url(../../assets/images/home/3y6.png);\r\n      background-repeat: no-repeat;\r\n      background-position: center center;\r\n      background-size: cover;\r\n      position: relative;\r\n      left: -20px;\r\n    }\r\n  }\r\n  .go-back-to-top {\r\n    width: 70px;\r\n    height: 70px;\r\n    font-size: 20px;\r\n    background-color: rgb(255, 223, 51);\r\n    text-align: center;\r\n    line-height: 20px;\r\n    border-radius: 999px;\r\n    position: fixed;\r\n    right: -7px;\r\n    bottom: 90px;\r\n    transform: scale(0.5);\r\n    z-index: 99;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DynamicView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DynamicView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DynamicView.vue?vue&type=template&id=41984140&scoped=true&\"\nimport script from \"./DynamicView.vue?vue&type=script&lang=js&\"\nexport * from \"./DynamicView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DynamicView.vue?vue&type=style&index=0&id=41984140&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41984140\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","ref","staticClass","on","dynamicScroll","_m","attrs","changeRouter","model","value","active","callback","$$v","expression","_l","tabbarData","item","index","key","title","goToTopIconState","goToTop","_v","_e","onRefresh","isLoading","scrollTop","staticRenderFns","name","data","created","activated","methods","window","setTimeout","component"],"sourceRoot":""}