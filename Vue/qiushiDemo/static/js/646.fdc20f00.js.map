{"version":3,"file":"static/js/646.fdc20f00.js","mappings":"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","sources":["webpack://demo03/./src/components/HomeCom/VideoCom.vue","webpack://demo03/src/components/HomeCom/VideoCom.vue","webpack://demo03/./src/components/HomeCom/VideoCom.vue?d473","webpack://demo03/./src/components/HomeCom/VideoCom.vue?1d15","webpack://demo03/./src/views/HomeView/SearchView.vue","webpack://demo03/src/views/HomeView/SearchView.vue","webpack://demo03/./src/views/HomeView/SearchView.vue?cce4","webpack://demo03/./src/views/HomeView/SearchView.vue?ccc0","webpack://demo03/./src/api/home/index.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.contentData)?_c('div',{ref:\"contentList\",staticClass:\"content-list\",on:{\"click\":_vm.addHistoryData}},[(_vm.contentData.hot)?_c('div',{staticClass:\"hot\"},[_c('div',{staticClass:\"hot-icon\"}),_c('div',{staticClass:\"hot-text\"},[_vm._v(\"热门\")])]):_vm._e(),_c('div',{staticClass:\"content-top-user\"},[_c('div',{staticClass:\"user-left\"},[_c('div',{staticClass:\"imgbox\",on:{\"click\":_vm.goToUserInside}},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":_vm.contentData.user.thumb,\"alt\":\"\"}})]),_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.contentData.user.login))])]),_c('div',{staticClass:\"user-right\"},[(this.$route.name !='userInside')?_c('div',{staticClass:\"follow-icon\",on:{\"click\":_vm.toFollow}},[_vm._v(\" \"+_vm._s(_vm.isFollow == true ? \"已关注\" : \"关注\")+\" \")]):_vm._e(),_c('div',{staticClass:\"delete-icon\",on:{\"click\":_vm.deleteData}},[_c('van-icon',{attrs:{\"name\":\"cross\"}})],1)])]),_c('div',{staticClass:\"title\",style:({ fontStyle: _vm.contentData.format == 'video' })},[_vm._v(\" \"+_vm._s(_vm.contentData.content)+\" \")]),(_vm.contentData.format == 'video')?_c('div',{staticClass:\"video-box\"},[_c('div',{staticClass:\"bg-click\",on:{\"click\":_vm.goToVideoInside}}),_c('img',{staticClass:\"bg\",attrs:{\"src\":_vm.contentData.pic_url,\"alt\":\"\"}}),_c('div',{staticClass:\"bg-blur\"}),_c('video',{ref:\"video\",attrs:{\"muted\":\"\",\"src\":_vm.contentData.high_url,\"controls\":\"\",\"autoplay\":\"\"},domProps:{\"muted\":true}})]):_vm._e(),(_vm.contentData.attachments)?_c('div',{staticClass:\"photo-box\"},_vm._l((_vm.contentData.attachments),function(item,index){return _c('div',{key:index,staticClass:\"imgbox\",on:{\"click\":function($event){return _vm.PreviewImage(index)}}},[(item.format == 'image')?_c('img',{staticClass:\"auto-img\",attrs:{\"src\":item.high_url,\"alt\":\"\"}}):_vm._e(),(item.format == 'gif')?_c('video',{attrs:{\"muted\":\"\",\"src\":item.high_url,\"autoplay\":\"\",\"loop\":\"\"},domProps:{\"muted\":true}}):_vm._e()])}),0):_vm._e(),(_vm.contentData.hot_comment && this.$route.name != 'comment')?_c('div',{staticClass:\"hot-comment-box\"},[_c('div',{staticClass:\"content-top-user\"},[_c('div',{staticClass:\"user-left\"},[_c('div',{staticClass:\"imgbox\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":_vm.contentData.hot_comment.user.thumb,\"alt\":\"\"}})]),_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.contentData.hot_comment.user.login))])]),_c('div',{staticClass:\"user-right\"},[_vm._v(\" \"+_vm._s(_vm.contentData.hot_comment.like_count)+\" 赞 \")])]),_c('div',{staticClass:\"content-text\"},[_vm._v(_vm._s(_vm.contentData.hot_comment.content))])]):_vm._e(),_c('div',{staticClass:\"bottom-icon\"},[_c('div',{staticClass:\"bottom-icon-left\"},[_c('div',{staticClass:\"icon like\",class:{ likeActive: _vm.isLike },on:{\"click\":_vm.toLike}},[_c('div',{staticClass:\"like-count\"},[_vm._v(_vm._s(_vm.contentData.votes.up))])]),_c('div',{staticClass:\"icon dislike\",class:{ dislikeActive: _vm.isDislike },on:{\"click\":_vm.toDislike}})]),_c('div',{staticClass:\"bottom-icon-right\"},[_c('div',{staticClass:\"icon comment\",on:{\"click\":_vm.goToComment}},[_c('div',{staticClass:\"comment-count\"},[_vm._v(\" \"+_vm._s(_vm.contentData.comments_count > 0 ? _vm.contentData.comments_count : \"评论\")+\" \")])]),_c('div',{staticClass:\"icon share\",on:{\"click\":function($event){return _vm.shareHandel()}}},[_c('div',{staticClass:\"share-count\"},[_vm._v(\" \"+_vm._s(_vm.contentData.share_count > 0 ? _vm.contentData.share_count : \"分享\")+\" \")])])])]),_c('van-share-sheet',{attrs:{\"title\":\"立即分享给好友\",\"options\":_vm.options},on:{\"select\":_vm.onSelect},model:{value:(_vm.showShare),callback:function ($$v) {_vm.showShare=$$v},expression:\"showShare\"}}),_c('router-view')],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"content-list\" v-if=\"contentData\" ref=\"contentList\" @click=\"addHistoryData\">\r\n    <div class=\"hot\" v-if=\"contentData.hot\">\r\n      <div class=\"hot-icon\"></div>\r\n      <div class=\"hot-text\">热门</div>\r\n    </div>\r\n    <div class=\"content-top-user\">\r\n      <div class=\"user-left\">\r\n        <div class=\"imgbox\" @click=\"goToUserInside\">\r\n          <img class=\"auto-img\" :src=\"contentData.user.thumb\" alt=\"\" />\r\n        </div>\r\n        <div class=\"user-name\">{{ contentData.user.login }}</div>\r\n      </div>\r\n      <div class=\"user-right\">\r\n        <div class=\"follow-icon\" @click=\"toFollow\" v-if=\"this.$route.name !='userInside'\">\r\n          {{ isFollow == true ? \"已关注\" : \"关注\" }}\r\n        </div>\r\n        <div class=\"delete-icon\" @click=\"deleteData\">\r\n          <van-icon name=\"cross\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"title\" :style=\"{ fontStyle: contentData.format == 'video' }\">\r\n      {{ contentData.content }}\r\n    </div>\r\n    <div class=\"video-box\" v-if=\"contentData.format == 'video'\">\r\n      <div class=\"bg-click\" @click=\"goToVideoInside\"></div>\r\n      <img class=\"bg\" :src=\"contentData.pic_url\" alt=\"\" />\r\n      <div class=\"bg-blur\"></div>\r\n      <video\r\n        ref=\"video\"\r\n        muted\r\n        :src=\"contentData.high_url\"\r\n        controls\r\n        autoplay\r\n      ></video>\r\n    </div>\r\n    <div class=\"photo-box\" v-if=\"contentData.attachments\">\r\n      <div\r\n        class=\"imgbox\"\r\n        v-for=\"(item, index) in contentData.attachments\"\r\n        :key=\"index\"\r\n        @click=\"PreviewImage(index)\"\r\n      >\r\n        <img\r\n          class=\"auto-img\"\r\n          :src=\"item.high_url\"\r\n          alt=\"\"\r\n          v-if=\"item.format == 'image'\"\r\n        />\r\n        <video\r\n          muted\r\n          :src=\"item.high_url\"\r\n          autoplay\r\n          loop\r\n          v-if=\"item.format == 'gif'\"\r\n        ></video>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"hot-comment-box\"\r\n      v-if=\"contentData.hot_comment && this.$route.name != 'comment'\"\r\n    >\r\n      <div class=\"content-top-user\">\r\n        <div class=\"user-left\">\r\n          <div class=\"imgbox\">\r\n            <img\r\n              class=\"auto-img\"\r\n              :src=\"contentData.hot_comment.user.thumb\"\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n          <div class=\"user-name\">{{ contentData.hot_comment.user.login }}</div>\r\n        </div>\r\n        <div class=\"user-right\">\r\n          {{ contentData.hot_comment.like_count }} 赞\r\n        </div>\r\n      </div>\r\n      <div class=\"content-text\">{{ contentData.hot_comment.content }}</div>\r\n    </div>\r\n    <div class=\"bottom-icon\">\r\n      <div class=\"bottom-icon-left\">\r\n        <div class=\"icon like\" :class=\"{ likeActive: isLike }\" @click=\"toLike\">\r\n          <div class=\"like-count\">{{ contentData.votes.up }}</div>\r\n        </div>\r\n        <div\r\n          class=\"icon dislike\"\r\n          :class=\"{ dislikeActive: isDislike }\"\r\n          @click=\"toDislike\"\r\n        ></div>\r\n      </div>\r\n      <div class=\"bottom-icon-right\">\r\n        <div class=\"icon comment\" @click=\"goToComment\">\r\n          <div class=\"comment-count\">\r\n            {{\r\n              contentData.comments_count > 0\r\n                ? contentData.comments_count\r\n                : \"评论\"\r\n            }}\r\n          </div>\r\n        </div>\r\n        <div class=\"icon share\" @click=\"shareHandel()\">\r\n          <div class=\"share-count\">\r\n            {{ contentData.share_count > 0 ? contentData.share_count : \"分享\" }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <van-share-sheet\r\n      v-model:show=\"showShare\"\r\n      title=\"立即分享给好友\"\r\n      :options=\"options\"\r\n      @select=\"onSelect\"\r\n    />\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from \"vue\";\r\nimport { Toast, ImagePreview } from \"vant\";\r\nexport default {\r\n  setup() {\r\n    const showShare = ref(false);\r\n    const options = [\r\n      { name: \"微信\", icon: \"wechat\" },\r\n      { name: \"微博\", icon: \"weibo\" },\r\n      { name: \"复制链接\", icon: \"link\" },\r\n      { name: \"分享海报\", icon: \"poster\" },\r\n      { name: \"二维码\", icon: \"qrcode\" },\r\n    ];\r\n\r\n    const onSelect = (option) => {\r\n      Toast(option.name);\r\n      showShare.value = false;\r\n    };\r\n\r\n    return {\r\n      options,\r\n      onSelect,\r\n      showShare,\r\n    };\r\n  },\r\n  props: {\r\n    allContentData: {},\r\n    contentData: {},\r\n    isAutoplay: {},\r\n    loading: {},\r\n    isFollow: {},\r\n    isLike: {},\r\n    isDislike: {},\r\n    index: {},\r\n  },\r\n  data() {\r\n    return {\r\n      contentListHeight: 0,\r\n      fontStyle: {\r\n        textOverflow: \"ellipsis\",\r\n        overflow: \"hidden\",\r\n        whiteSpace: \"nowrap\",\r\n      },\r\n      playState: false,\r\n    };\r\n  },\r\n  watch: {\r\n    isAutoplay(newval) {\r\n      if (newval == true && this.contentData.format == \"video\") {\r\n        this.$refs.video.play();\r\n        this.playState = true;\r\n      } else if (newval == false && this.contentData.format == \"video\") {\r\n        this.$refs.video.pause();\r\n        this.playState = false;\r\n      }\r\n    },\r\n    loading(newval) {\r\n      if (newval == false) {\r\n        this.toAutoplay();\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.$nextTick(() => {\r\n      this.toAutoplay();\r\n    });\r\n  },\r\n  methods: {\r\n    //自动播放传送高度\r\n    toAutoplay() {\r\n      if (this.$refs.contentList) {\r\n        this.contentListHeight = this.$refs.contentList.clientHeight;\r\n        this.$emit(\"getVideoHeight\", this.contentListHeight);\r\n      }\r\n    },\r\n    //关注\r\n    toFollow() {\r\n      let token = window.localStorage.getItem(\"token\");\r\n      if (!token) {\r\n        this.$router.push({ name: \"beforeLogin\" });\r\n      } else {\r\n        this.$emit(\"getFollowState\");\r\n      }\r\n    },\r\n    //点赞\r\n    toLike() {\r\n      this.$emit(\"getLikeState\");\r\n    },\r\n    //踩\r\n    toDislike() {\r\n      this.$emit(\"getDislikeState\");\r\n    },\r\n    //分享\r\n    shareHandel() {\r\n      let token = window.localStorage.getItem(\"token\");\r\n      if (!token) {\r\n        this.$router.push({ name: \"beforeLogin\" });\r\n      } else {\r\n        this.showShare = true\r\n        this.$emit(\"addShareCount\");\r\n      }\r\n    },\r\n    //跳转视频详情页\r\n    goToVideoInside() {\r\n      let data = this.allContentData.filter(item => {\r\n        return item.format=='video'\r\n      })\r\n      window.localStorage.setItem(\r\n        \"VideoContentData\",\r\n        JSON.stringify(data)\r\n      );\r\n      this.$router.push({ name: \"VideoInside\", params: { index: this.index } });\r\n      // if (this.playState) {\r\n      //   this.$refs.video.play();\r\n      // } else if (!this.playState) {\r\n      //   this.$refs.video.pause();\r\n      // }\r\n      // this.playState = !this.playState;\r\n    },\r\n    //图片浏览\r\n    PreviewImage(index) {\r\n      let imgs = [];\r\n      this.contentData.attachments.forEach((item) => {\r\n        imgs.push(item.high_url);\r\n      });\r\n      ImagePreview({\r\n        images: imgs,\r\n        startPosition: index,\r\n      });\r\n    },\r\n    //删除\r\n    deleteData() {\r\n      let token = window.localStorage.getItem(\"token\");\r\n      if (!token) {\r\n        this.$router.push({ name: \"beforeLogin\" });\r\n      } else {\r\n        this.$emit(\"deleteData\");\r\n      }\r\n    },\r\n    //前往评论区\r\n    goToComment() {\r\n      this.$emit(\"goTocomment\");\r\n    },\r\n    //前往个人主页\r\n    goToUserInside() {\r\n      if (this.$route.name != \"userInside\") {\r\n        this.$router.push({\r\n          name: \"userInside\",\r\n          params: { id: this.contentData.user.id },\r\n        });\r\n      }\r\n    },\r\n    //添加历史观看数据\r\n    addHistoryData() {\r\n      let historyData = JSON.parse(window.localStorage.getItem('historyData'))\r\n      if (!historyData) {\r\n        let historyData=[]\r\n        historyData.unshift(this.contentData)\r\n        window.localStorage.setItem('historyData',JSON.stringify(historyData))\r\n      }else{\r\n        let idArr=[]\r\n        historyData.forEach(item => {\r\n          if (idArr.indexOf(item.id)==-1){\r\n            idArr.push(item.id)\r\n          }\r\n        })\r\n        if (idArr.indexOf(this.contentData.id)==-1) {\r\n          historyData.unshift(this.contentData)\r\n          window.localStorage.setItem('historyData',JSON.stringify(historyData))\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.content-list {\r\n  width: 100%;\r\n  margin-bottom: 25px;\r\n  .hot {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 15px;\r\n    .hot-icon {\r\n      width: 15px;\r\n      height: 15px;\r\n      background-color: red;\r\n      border-radius: 999px;\r\n    }\r\n    .hot-text {\r\n      color: #bbb;\r\n      font-size: 14px;\r\n    }\r\n  }\r\n  .content-top-user {\r\n    width: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    .user-left {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      .imgbox {\r\n        width: 30px;\r\n        height: 30px;\r\n        border-radius: 999px;\r\n        margin-right: 10px;\r\n        overflow: hidden;\r\n      }\r\n      .user-name {\r\n        color: #666;\r\n        font-size: 14px;\r\n      }\r\n    }\r\n    .user-right {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      font-size: 12px;\r\n      width: 62px;\r\n      .follow-icon {\r\n        width: 50px;\r\n        height: 22px;\r\n        flex: 0 0 50px;\r\n        border-radius: 999px;\r\n        text-align: center;\r\n        background-color: #eee;\r\n        line-height: 22px;\r\n        font-weight: 600;\r\n        margin-left: -10px;\r\n      }\r\n      .delete-icon {\r\n        margin-left: 10px;\r\n        color: #aaa;\r\n      }\r\n    }\r\n  }\r\n  .title {\r\n    font-size: 14px;\r\n    margin: 15px 0 10px;\r\n    width: 100%;\r\n    line-height: 15px;\r\n  }\r\n  .video-box {\r\n    width: 100%;\r\n    height: 300px;\r\n    position: relative;\r\n    border-radius: 6px;\r\n    overflow: hidden;\r\n    .bg-click {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 60px;\r\n      z-index: 20;\r\n    }\r\n    .bg {\r\n      width: 100%;\r\n      height: 100%;\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      z-index: -2;\r\n    }\r\n    .bg-blur {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      background-color: rgba(0, 0, 0, 0.35);\r\n      backdrop-filter: blur(30px);\r\n      z-index: -1;\r\n    }\r\n    video {\r\n      width: 100%;\r\n      height: 100%;\r\n      z-index: 10;\r\n    }\r\n    .total-time {\r\n      width: 35px;\r\n      height: 20px;\r\n      position: absolute;\r\n      bottom: 5px;\r\n      right: 5px;\r\n      background-color: rgba(0, 0, 0, 0.5);\r\n      border-radius: 999px;\r\n      color: #fff;\r\n      font-size: 12px;\r\n      text-align: center;\r\n      line-height: 20px;\r\n    }\r\n  }\r\n  .photo-box {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n    .imgbox {\r\n      width: calc(33.3% - 10px);\r\n      margin-right: 5px;\r\n      margin-bottom: 5px;\r\n      position: relative;\r\n      img {\r\n        display: block;\r\n        width: 100%;\r\n        height: 100px;\r\n        margin: auto 0;\r\n      }\r\n      video {\r\n        display: block;\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n    }\r\n  }\r\n  .hot-comment-box {\r\n    width: 100%;\r\n    background-color: #eee;\r\n    border-radius: 10px;\r\n    padding: 10px;\r\n    box-sizing: border-box;\r\n    margin: 10px 0;\r\n    .content-top-user {\r\n      width: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      font-size: 12px;\r\n      margin-bottom: 10px;\r\n      color: #aaa;\r\n      .user-left {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        .imgbox {\r\n          width: 20px;\r\n          height: 20px;\r\n          border-radius: 999px;\r\n          margin-right: 10px;\r\n          overflow: hidden;\r\n        }\r\n        .user-name {\r\n          color: #666;\r\n          font-size: 14px;\r\n        }\r\n      }\r\n      .user-right {\r\n        text-align: center;\r\n      }\r\n    }\r\n    .content-text {\r\n      font-size: 14px;\r\n    }\r\n  }\r\n  .bottom-icon {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin: 10px 0;\r\n    padding-bottom: 10px;\r\n    border-bottom: 1px solid #ddd;\r\n    .bottom-icon-left {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      .icon {\r\n        width: 35px;\r\n        height: 35px;\r\n        border-radius: 999px;\r\n        background-repeat: no-repeat;\r\n        background-position: center center;\r\n        background-size: cover;\r\n        position: relative;\r\n        &.like {\r\n          margin-right: 30px;\r\n          background-image: url(@/assets/images/home/xhP.png);\r\n          &.likeActive {\r\n            background-image: url(@/assets/images/home/utK.png);\r\n          }\r\n          .like-count {\r\n            position: absolute;\r\n            font-size: 12px;\r\n            left: 35px;\r\n            top: 12px;\r\n            font-weight: 600;\r\n          }\r\n        }\r\n        &.dislike {\r\n          background-image: url(@/assets/images/home/qOC.png);\r\n          &.dislikeActive {\r\n            background-image: url(@/assets/images/home/Dfk.png);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .bottom-icon-right {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      flex: 0 0 120px;\r\n      .icon {\r\n        width: 35px;\r\n        height: 35px;\r\n        border-radius: 999px;\r\n        background-repeat: no-repeat;\r\n        background-position: center center;\r\n        background-size: cover;\r\n        position: relative;\r\n        &.comment {\r\n          margin-right: 30px;\r\n          background-image: url(@/assets/images/home/u0q.png);\r\n          .comment-count {\r\n            position: absolute;\r\n            font-size: 12px;\r\n            left: 35px;\r\n            top: 12px;\r\n            font-weight: 600;\r\n            height: 12px;\r\n            flex: 0 0 26px;\r\n            width: 26px;\r\n          }\r\n        }\r\n        &.share {\r\n          margin-right: 30px;\r\n          background-image: url(@/assets/images/home/Vdz.png);\r\n          .share-count {\r\n            position: absolute;\r\n            height: 12px;\r\n            flex: 0 0 26px;\r\n            width: 26px;\r\n            font-size: 12px;\r\n            left: 35px;\r\n            top: 12px;\r\n            font-weight: 600;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VideoCom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VideoCom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoCom.vue?vue&type=template&id=35773a9f&scoped=true&\"\nimport script from \"./VideoCom.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoCom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoCom.vue?vue&type=style&index=0&id=35773a9f&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"35773a9f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"search\",staticClass:\"search-view\",on:{\"&scroll\":function($event){return _vm.searchScroll.apply(null, arguments)}}},[_c('div',{staticClass:\"top-nav\"},[_c('div',{staticClass:\"search-box\"},[_c('div',{staticClass:\"ipt-box\"},[_c('div',{staticClass:\"icon\"},[_c('van-icon',{attrs:{\"name\":\"search\"}})],1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keywords),expression:\"keywords\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.keywords)},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.searchHandel.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.keywords=$event.target.value}}})]),_c('div',{staticClass:\"icon-cancle\",on:{\"click\":_vm.clearTheWords}},[_c('van-icon',{attrs:{\"name\":\"cross\"}})],1)]),_c('div',{staticClass:\"cancle\",on:{\"click\":_vm.goBack}},[_vm._v(\"取消\")])]),(_vm.contentData.length > 0)?_c('div',{staticClass:\"content-box\"},_vm._l((_vm.contentData),function(item,index){return _c('div',{key:item.id,staticClass:\"content-list-wrap\"},[_c('VideoCom',{attrs:{\"allContentData\":_vm.contentData,\"scrollTop\":_vm.scrollTop,\"contentData\":item,\"isAutoplay\":index == 0 ? true : item.isAutoplay,\"loading\":_vm.loading,\"isFollow\":item.isFollow,\"isDislike\":item.isDislike,\"isLike\":item.isLike,\"index\":index},on:{\"getVideoHeight\":function($event){return _vm.getTotalHeight($event)},\"getFollowState\":function($event){return _vm.getFollowState(item)},\"getLikeState\":function($event){return _vm.getLikeState(item)},\"getDislikeState\":function($event){return _vm.getDislikeState(item)},\"addShareCount\":function($event){return _vm.addShareCount(item)},\"deleteData\":function($event){return _vm.deleteData(item)},\"goTocomment\":function($event){return _vm.goTocomment(item)}}})],1)}),0):_vm._e(),(_vm.goToTopIconState)?_c('div',{staticClass:\"go-back-to-top\",on:{\"click\":_vm.goToTop}},[_c('van-icon',{attrs:{\"name\":\"arrow-up\"}}),_c('br'),_vm._v(\"返回\"),_c('br'),_vm._v(\"顶部 \")],1):_vm._e(),(_vm.contentData.length == 0)?_c('h1',[_vm._v(\"搜索无结果，换个关键词吧!\")]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"search-view\" ref=\"search\" @scroll.passive=\"searchScroll\">\r\n    <div class=\"top-nav\">\r\n      <div class=\"search-box\">\r\n        <div class=\"ipt-box\">\r\n          <div class=\"icon\"><van-icon name=\"search\" /></div>\r\n          <input type=\"text\" v-model=\"keywords\" @keydown.enter=\"searchHandel\" />\r\n        </div>\r\n        <div class=\"icon-cancle\" @click=\"clearTheWords\">\r\n          <van-icon name=\"cross\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"cancle\" @click=\"goBack\">取消</div>\r\n    </div>\r\n    <div class=\"content-box\" v-if=\"contentData.length > 0\">\r\n      <div\r\n        class=\"content-list-wrap\"\r\n        v-for=\"(item, index) in contentData\"\r\n        :key=\"item.id\"\r\n      >\r\n        <VideoCom\r\n          :allContentData=\"contentData\"\r\n          :scrollTop=\"scrollTop\"\r\n          :contentData=\"item\"\r\n          :isAutoplay=\"index == 0 ? true : item.isAutoplay\"\r\n          :loading=\"loading\"\r\n          :isFollow=\"item.isFollow\"\r\n          :isDislike=\"item.isDislike\"\r\n          :isLike=\"item.isLike\"\r\n          :index=\"index\"\r\n          @getVideoHeight=\"getTotalHeight($event)\"\r\n          @getFollowState=\"getFollowState(item)\"\r\n          @getLikeState=\"getLikeState(item)\"\r\n          @getDislikeState=\"getDislikeState(item)\"\r\n          @addShareCount=\"addShareCount(item)\"\r\n          @deleteData=\"deleteData(item)\"\r\n          @goTocomment=\"goTocomment(item)\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"go-back-to-top\" @click=\"goToTop\" v-if=\"goToTopIconState\">\r\n      <van-icon name=\"arrow-up\" /><br />返回<br />顶部\r\n    </div>\r\n    <h1 v-if=\"contentData.length == 0\">搜索无结果，换个关键词吧!</h1>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getSearchContent } from \"@/api/home\";\r\nimport VideoCom from \"@/components/HomeCom/VideoCom.vue\";\r\nimport { throttle } from \"@/utils/throttle\";\r\n\r\nexport default {\r\n  components: { VideoCom },\r\n  name: \"SearchView\",\r\n  data() {\r\n    return {\r\n      //搜索关键词\r\n      keywords: null,\r\n      //全部数据\r\n      contentAllData: [],\r\n      //展示数据\r\n      contentData: [],\r\n      //总高度\r\n      totalHeight: 0,\r\n      //加载状态\r\n      loading: true,\r\n      //滚动距离\r\n      scrollTop: 0,\r\n      //定时器\r\n      timer: null,\r\n      //返回顶部的按钮显示状态\r\n      goToTopIconState: false,\r\n      //截取的下标\r\n      index1: 0,\r\n      index2: 9,\r\n    };\r\n  },\r\n  activated() {\r\n    this.keywords = this.$route.params.keywords;\r\n    this.getSearchContentData();\r\n  },\r\n  watch: {\r\n    scrollTop(newval) {\r\n      if (this.contentData.length == this.contentAllData.length) {\r\n        this.loading = false;\r\n      }\r\n      if (newval + 500 > this.totalHeight && newval < this.totalHeight) {\r\n        if (this.loading) {\r\n          this.index1 += 10;\r\n          this.index2 += 10;\r\n          this.getData();\r\n        }\r\n      }\r\n      if (newval >= this.totalHeight && !this.loading) {\r\n        this.$toast({\r\n          message: \"没有更多啦~\",\r\n          position: \"bottom\",\r\n        });\r\n      }\r\n    },\r\n    loading(newval) {\r\n      if (newval == false) {\r\n        this.totalHeight = 0;\r\n      }\r\n    },\r\n    \"contentData.length\"() {\r\n      this.timer = setTimeout(() => {\r\n        this.getTotalHeight();\r\n        this.timer = null;\r\n      }, 100);\r\n    },\r\n  },\r\n  methods: {\r\n    //返回上一级路由\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    //获取搜索数据\r\n    getSearchContentData() {\r\n      this.contentData = [];\r\n      this.index1 = 0;\r\n      this.index2 = 9;\r\n      getSearchContent({ axios: this.$axios }).then((data) => {\r\n        //  this.contentData=[...data.data];\r\n        let res = data.data.filter((item) => {\r\n          if (item.content.indexOf(this.keywords) != -1) {\r\n            // console.log(item.content[item.content.indexOf(this.keywords)]);\r\n            item.content[item.content.indexOf(this.keywords)];\r\n          }\r\n          return item.content.indexOf(this.keywords) != -1;\r\n        });\r\n        // console.log(res);\r\n        this.contentAllData = res;\r\n        for (let i = this.index1; i <= this.index2; i++) {\r\n          if (i == this.contentAllData.length) {\r\n            break;\r\n          }\r\n          this.contentData.push(this.contentAllData[i]);\r\n        }\r\n        // console.log(this.contentData);\r\n      });\r\n      //定时器延迟拿取数据\r\n      this.timer = setTimeout(() => {\r\n        this.getFollowedData();\r\n        this.timer = null;\r\n      }, 100);\r\n    },\r\n    //获取截取的数据实现懒加载\r\n    getData() {\r\n      for (let i = this.index1; i <= this.index2; i++) {\r\n        if (i == this.contentAllData.length) {\r\n          break;\r\n        }\r\n        this.contentData.push(this.contentAllData[i]);\r\n      }\r\n    },\r\n    //滚动\r\n    searchScroll: throttle(function () {\r\n      this.scrollTop = this.$refs.search.scrollTop;\r\n      if (this.scrollTop >= 150) {\r\n        this.goToTopIconState = true;\r\n      } else {\r\n        this.goToTopIconState = false;\r\n      }\r\n    }, 500),\r\n    //返回顶部方法\r\n    goToTop() {\r\n      this.$refs.search.scrollTo(0, 0);\r\n    },\r\n    //获取所有内容的高度\r\n    getTotalHeight(val) {\r\n      if (val != undefined) {\r\n        this.totalHeight += val;\r\n      }\r\n    },\r\n    //关注\r\n    getFollowState(item) {\r\n      item.isFollow = !item.isFollow;\r\n      let followedData = JSON.parse(\r\n        window.localStorage.getItem(\"followedData\")\r\n      );\r\n      let idArr = [];\r\n      followedData.forEach((item) => {\r\n        idArr.push(item.id);\r\n      });\r\n      if (item.isFollow && idArr.indexOf(item.user.id) == -1) {\r\n        followedData.push(item.user);\r\n        window.localStorage.setItem(\r\n          \"followedData\",\r\n          JSON.stringify(followedData)\r\n        );\r\n      } else {\r\n        // console.log(followedData.indexOf(item.user));\r\n        followedData.forEach((item2, index) => {\r\n          if (item2.id == item.user.id) {\r\n            followedData.splice(index, 1);\r\n            window.localStorage.setItem(\r\n              \"followedData\",\r\n              JSON.stringify(followedData)\r\n            );\r\n          }\r\n        });\r\n      }\r\n    },\r\n    //点赞\r\n    getLikeState(item) {\r\n      item.isLike = !item.isLike;\r\n      if (item.isLike) {\r\n        item.isDislike = false;\r\n        item.votes.up++;\r\n      } else {\r\n        item.votes.up--;\r\n      }\r\n    },\r\n    //踩\r\n    getDislikeState(item) {\r\n      item.isDislike = !item.isDislike;\r\n      if (item.isDislike && item.isLike) {\r\n        item.isLike = false;\r\n        item.votes.up--;\r\n      }\r\n    },\r\n    //分享\r\n    addShareCount(item) {\r\n      item.share_count++;\r\n    },\r\n    //删除\r\n    deleteData(item) {\r\n      this.$dialog\r\n        .confirm({\r\n          title: \"确定要删除吗?\",\r\n        })\r\n        .then(() => {\r\n          // on confirm\r\n          this.contentData.forEach((item2, index) => {\r\n            if (item2 == item) {\r\n              this.contentData.splice(index, 1);\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {\r\n          // on cancel\r\n        });\r\n    },\r\n    //获取已关注\r\n    getFollowedData() {\r\n      let followedData = JSON.parse(\r\n        window.localStorage.getItem(\"followedData\")\r\n      );\r\n      let followedDataId = [];\r\n      followedData.forEach((item) => {\r\n        followedDataId.push(item.id);\r\n      });\r\n      this.contentData.forEach((item) => {\r\n        if (followedDataId.indexOf(item.user.id) != -1) {\r\n          item.isFollow = true;\r\n        } else {\r\n          item.isFollow = false;\r\n        }\r\n      });\r\n    },\r\n    //跳转评论详情页\r\n    goTocomment(item) {\r\n      window.localStorage.setItem(\"commentContentData\", JSON.stringify(item));\r\n      let dataId = item.id;\r\n      if (dataId != 125654473 && dataId != 125657703) {\r\n        dataId = 125654473;\r\n      }\r\n      this.$router.push(`/comment?id=${dataId}`);\r\n    },\r\n    //搜索方法\r\n    searchHandel() {\r\n      if (\r\n        this.keywords != \"\" &&\r\n        this.keywords.length > 0 &&\r\n        this.keywords != this.$route.params.keywords\r\n      ) {\r\n        this.$router.replace({\r\n          name: \"SearchView\",\r\n          params: {\r\n            keywords: this.keywords,\r\n          },\r\n        });\r\n        this.keywords = this.$route.params.keywords;\r\n        this.getSearchContentData();\r\n      }\r\n    },\r\n    //清除搜索词\r\n    clearTheWords() {\r\n      this.keywords = \"\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search-view {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n  overflow: auto;\r\n  .top-nav {\r\n    width: 100%;\r\n    height: 50px;\r\n    box-sizing: border-box;\r\n    border-bottom: 1px solid #ddd;\r\n    display: flex;\r\n    align-items: center;\r\n    position: fixed;\r\n    left: 10px;\r\n    top: 0px;\r\n    background-color: #fff;\r\n    z-index: 100;\r\n    .search-box {\r\n      width: 300px;\r\n      height: 35px;\r\n      background-color: rgb(240, 240, 240);\r\n      border-radius: 8px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      padding: 0 10px;\r\n      align-items: center;\r\n      box-sizing: border-box;\r\n      margin-right: 10px;\r\n      .ipt-box {\r\n        display: flex;\r\n        .icon {\r\n          color: #666;\r\n          font-size: 16px;\r\n          margin-right: 5px;\r\n        }\r\n        input {\r\n          background-color: rgb(240, 240, 240);\r\n        }\r\n      }\r\n      .icon-cancle {\r\n        width: 20px;\r\n        height: 20px;\r\n        background-color: #ccc;\r\n        border-radius: 999px;\r\n        color: #fff;\r\n        text-align: center;\r\n        line-height: 20px;\r\n      }\r\n    }\r\n    .cancle {\r\n      font-weight: 600;\r\n      font-size: 16px;\r\n    }\r\n  }\r\n  .content-box {\r\n    width: 100%;\r\n    padding: 50px 0;\r\n  }\r\n  h1 {\r\n    text-align: center;\r\n    font-size: 25px;\r\n    font-weight: 600;\r\n    margin-top: 40%;\r\n  }\r\n  .go-back-to-top {\r\n    width: 70px;\r\n    height: 70px;\r\n    font-size: 20px;\r\n    background-color: rgb(255, 223, 51);\r\n    text-align: center;\r\n    line-height: 21px;\r\n    border-radius: 999px;\r\n    position: fixed;\r\n    right: -7px;\r\n    bottom: 90px;\r\n    transform: scale(0.5);\r\n    z-index: 99;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchView.vue?vue&type=template&id=6624919b&scoped=true&\"\nimport script from \"./SearchView.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchView.vue?vue&type=style&index=0&id=6624919b&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6624919b\",\n  null\n  \n)\n\nexport default component.exports","\r\n/*this.$axios.get(url, data, options).then((response) => {\r\n    console.log(response)\r\n  })\r\n   \r\n  this.$axios.post(url, data, options).then((response) => {\r\n    console.log(response)\r\n  })\r\n*/\r\n//首页推荐api\r\nexport const getHomeCommendContent = ({axios},data) => {\r\n    return axios.get(`/JSON/home/homeRecommend${data}.json`)\r\n}\r\n//首页关注api\r\nexport const getHomeFollowContent = ({axios},data) => {\r\n  return axios.get(`/JSON/home/follow${data}.json`)\r\n}\r\n//首页视频api\r\nexport const getHomeVideoContent = ({axios},data) => {\r\n  return axios.get(`/JSON/home/video${data}.json`)\r\n}\r\n//首页纯文api\r\nexport const getHomeArticleContent = ({axios},data) => {\r\n  return axios.get(`/JSON/home/article${data}.json`)\r\n}\r\n//首页纯图api\r\nexport const getHomePhotoContent = ({axios},data) => {\r\n  return axios.get(`/JSON/home/photo${data}.json`)\r\n}\r\n//首页精华api\r\nexport const getHomeEssenceContent = ({axios},data) => {\r\n  return axios.get(`/JSON/home/Essence${data}.json`)\r\n}\r\n//首页爆社推荐api\r\nexport const getHoneBombRecommendContent = ({axios},data) => {\r\n  return axios.get(`/JSON/home/bombRecommend${data}.json`)\r\n}\r\n//首页爆社全部爆社\r\nexport const getHoneBombAllContent = ({axios},data) => {\r\n  return axios.get(`/JSON/home/bombAll${data}.json`)\r\n}\r\n//首页爆社内容\r\nexport const getHoneBombContent = ({axios},data) => {\r\n  return axios.get(`/JSON/home/bombContent${data}.json`)\r\n}\r\n//搜索api\r\nexport const getSearchContent = ({axios}) => {\r\n  return axios.get(`/JSON/home/search.json`)\r\n}"],"names":["render","_vm","this","_c","_self","contentData","ref","staticClass","on","addHistoryData","hot","_v","_e","goToUserInside","attrs","user","thumb","_s","login","$route","name","toFollow","isFollow","deleteData","style","fontStyle","format","content","goToVideoInside","pic_url","high_url","domProps","attachments","_l","item","index","key","$event","PreviewImage","hot_comment","like_count","class","likeActive","isLike","toLike","votes","up","dislikeActive","isDislike","toDislike","goToComment","comments_count","shareHandel","share_count","options","onSelect","model","value","showShare","callback","$$v","expression","staticRenderFns","setup","icon","props","allContentData","isAutoplay","loading","data","contentListHeight","textOverflow","overflow","whiteSpace","playState","watch","created","methods","toAutoplay","window","JSON","params","imgs","images","startPosition","id","historyData","idArr","component","searchScroll","apply","arguments","directives","rawName","keywords","type","indexOf","_k","keyCode","searchHandel","target","composing","clearTheWords","goBack","length","scrollTop","getTotalHeight","getFollowState","getLikeState","getDislikeState","addShareCount","goTocomment","goToTopIconState","goToTop","components","VideoCom","contentAllData","totalHeight","timer","index1","index2","activated","message","position","getSearchContentData","getSearchContent","axios","getData","followedData","confirm","title","then","catch","getFollowedData","followedDataId","dataId","getHomeCommendContent","get","getHomeVideoContent","getHomeArticleContent","getHomePhotoContent","getHomeEssenceContent","getHoneBombRecommendContent","getHoneBombAllContent","getHoneBombContent"],"sourceRoot":""}