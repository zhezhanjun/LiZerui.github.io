"use strict";(self["webpackChunkdemo03"]=self["webpackChunkdemo03"]||[]).push([[667],{9667:function(t,e,i){i.r(e),i.d(e,{default:function(){return r}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"follow-view"},[e("van-nav-bar",{attrs:{title:"我的关注","left-arrow":""},on:{"click-left":t.onClickLeft}}),e("van-list",{attrs:{finished:t.finished,"finished-text":"已显示全部关注"},on:{load:t.loadData},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.loadedData,(function(i,s){return e("div",{key:s,staticClass:"content-list"},[e("div",{staticClass:"user-left",on:{click:function(e){return t.goToUserInside(i)}}},[e("div",{staticClass:"user-img"},[e("img",{staticClass:"auto-img",attrs:{src:i.thumb,alt:""}})]),e("div",{staticClass:"user-name"},[t._v(t._s(i.login))]),e("div",{staticClass:"user-male",class:{manstyle:"M"==i.gender}},[t._v(" "+t._s("M"==i.gender?"♂":"F"==i.gender?"♀":"")+" "+t._s(i.age)+" ")])]),e("div",{staticClass:"user-right",on:{click:function(e){return t.cancelFollow(i)}}},[t._v("已关注")])])})),0)],1)},a=[],l=(i(7658),{setup(){const t=()=>history.back();return{onClickLeft:t}},name:"userFollowed",data(){return{loading:!1,finished:!1,myData:[],count:10,offset:0,loadedData:[],timer:null}},activated(){this.myData=JSON.parse(window.localStorage.getItem("followedData")),this.loadData()},methods:{initLoad(){let t=this.myData.slice(this.offset,this.offset+this.count);this.loadedData.push(...t),this.offset+=this.count,this.loading=!1,setTimeout((()=>{t.length<this.count?this.finished=!0:this.laoding=!0}),600)},loadData(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout((()=>{this.timer=null,this.initLoad()}),1e3)},cancelFollow(t){this.$dialog.confirm({title:"确定要取消关注吗?"}).then((()=>{this.loadedData.forEach(((e,i)=>{e==t&&this.loadedData.splice(i,1)})),window.localStorage.setItem("followedData",JSON.stringify(this.loadedData))})).catch((()=>{}))},goToUserInside(t){"userInside"!=this.$route.name&&this.$router.push({name:"userInside",params:{id:t.id}})}}}),o=l,n=i(1001),d=(0,n.Z)(o,s,a,!1,null,"d2d09ed0",null),r=d.exports}}]);